(this["webpackJsonpcartoon-gallery"]=this["webpackJsonpcartoon-gallery"]||[]).push([[0],{19:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var c,a=n(1),r=n.n(a),o=n(12),s=n.n(o),i=(n(19),n(10)),j=n.n(i),p=n(13),u=n(3),b=n.p+"static/media/logo.a8e0aa77.svg",l=n(0),d={username:"HedyHan",shoppingCart:{items:[]}},O=r.a.createContext(d),h=r.a.createContext(void 0),x=function(t){var e=Object(a.useState)(d),n=Object(u.a)(e,2),c=n[0],r=n[1];return Object(l.jsx)(O.Provider,{value:c,children:Object(l.jsx)(h.Provider,{value:r,children:t.children})})},m=n(11),C=n(2),g=n(7),f=n.n(g),v=(c=function(t){var e=t.id,n=t.name,c=t.email,r=t.addToCart,o=Object(a.useContext)(O);return Object(l.jsxs)("div",{className:f.a.cardContainer,onClick:function(){return r(e,n)},children:[Object(l.jsx)("img",{src:"https://robohash.org/".concat(n),alt:"cartoon"}),Object(l.jsx)("h2",{children:n}),Object(l.jsx)("p",{children:c}),Object(l.jsxs)("p",{children:["\u4f5c\u8005: ",o.username]}),Object(l.jsx)("button",{children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]})},function(t){var e=Object(a.useContext)(h);return Object(l.jsx)(c,Object(C.a)(Object(C.a)({},t),{},{addToCart:function(t,n){e&&e((function(e){return Object(C.a)(Object(C.a)({},e),{},{shoppingCart:{items:[].concat(Object(m.a)(e.shoppingCart.items),[{id:t,name:n}])}})}))}}))}),_=function(t){var e=t.id,n=t.name,c=t.email,r=Object(a.useContext)(O),o=function(){var t=Object(a.useContext)(h);return function(e,n){t&&t((function(t){return Object(C.a)(Object(C.a)({},t),{},{shoppingCart:{items:[].concat(Object(m.a)(t.shoppingCart.items),[{id:e,name:n}])}})}))}}();return Object(l.jsxs)("div",{className:f.a.cardContainer,onClick:function(){o(e,n)},children:[Object(l.jsx)("img",{src:"https://robohash.org/".concat(n),alt:"cartoon"}),Object(l.jsx)("h2",{children:n}),Object(l.jsx)("p",{children:c}),Object(l.jsxs)("p",{children:["\u4f5c\u8005: ",r.username]}),Object(l.jsx)("button",{children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]})},S=n(5),N=n.n(S),k=n(8),w=n.n(k),y=n(14),L=function(){var t=Object(a.useContext)(O),e=Object(a.useContext)(h),n=Object(a.useState)(!1),c=Object(u.a)(n,2),r=c[0],o=c[1];return Object(l.jsxs)("div",{className:w.a.cartContainer,children:[Object(l.jsxs)("button",{className:w.a.button,onClick:function(t){"SPAN"===t.target.nodeName&&o(!r)},children:[Object(l.jsx)(y.a,{}),Object(l.jsxs)("span",{children:["\u8d2d\u7269\u8f66(",t.shoppingCart.items.length,"\u4ef6)"]})]}),Object(l.jsx)("button",{onClick:function(){return null===e||void 0===e?void 0:e((function(){return Object(C.a)(Object(C.a)({},t),{},{shoppingCart:{items:[]}})}))},children:"\u6e05\u7a7a"}),Object(l.jsx)("div",{className:w.a.cartDropDown,style:{display:r?"block":"none"},children:Object(l.jsx)("ul",{children:t.shoppingCart.items.map((function(t){return Object(l.jsx)("li",{children:t.name})}))})})]})},A=function(){var t=Object(a.useState)([]),e=Object(u.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(!0),o=Object(u.a)(r,2),s=o[0],i=o[1],d=Object(a.useState)(),O=Object(u.a)(d,2),h=O[0],x=O[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(p.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/users");case 4:return e=t.sent,t.next=7,e.json();case 7:n=t.sent,c(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),x(t.t0.message);case 14:i(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(l.jsxs)("div",{className:N.a.app,children:[Object(l.jsxs)("div",{className:N.a.appHeader,children:[Object(l.jsx)("img",{src:b,alt:"logo",className:N.a.appLogo}),Object(l.jsx)("h1",{children:"Cartoon Gallery Card Show"})]}),Object(l.jsx)(L,{}),(h||""===h)&&Object(l.jsxs)("div",{children:["\u7f51\u7ad9\u9519\u8bef: ",h]}),s?Object(l.jsx)("h1",{children:"Loading"}):Object(l.jsx)("div",{className:N.a.robotList,children:n.map((function(t,e){return e%2?Object(l.jsx)(v,{id:t.id,name:t.name,email:t.email}):Object(l.jsx)(_,{id:t.id,name:t.name,email:t.email})}))})]})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(x,{children:Object(l.jsx)(A,{})})}),document.getElementById("root")),D()},5:function(t,e,n){t.exports={app:"App_app__1kX79",appHeader:"App_appHeader__28RXF",appLogo:"App_appLogo__1qg7-","App-logo-spin":"App_App-logo-spin__1e7sv",robotList:"App_robotList__zTHhD"}},7:function(t,e,n){t.exports={cardContainer:"Cartoon_cardContainer__aj1wB"}},8:function(t,e,n){t.exports={cartContainer:"ShoppingCart_cartContainer__1Gl09",cartDropDown:"ShoppingCart_cartDropDown__23j9i",button:"ShoppingCart_button__3vzc4"}}},[[22,1,2]]]);
//# sourceMappingURL=main.1b310ef3.chunk.js.map